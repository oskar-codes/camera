<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <title>Camera Access</title>
</head>
<body>
<div>
    <video autoplay></video>
    <select name="" id="camera-select">
        <option value="">Select camera</option>
    </select>
</div>

<script src="https://unpkg.com/feather-icons"></script>
<script>
  const cameraOptions = document.querySelector('#camera-select');
    
  const constraints = {
  video: {
    width: {
      min: 1280,
      ideal: 1920,
      max: 2560,
    },
    height: {
      min: 720,
      ideal: 1080,
      max: 1440
    },
  }
};

cameraOptions.onchange = () => {
  const updatedConstraints = {
    ...constraints,
    deviceId: {
      exact: cameraOptions.value
    }
  };

  startStream(updatedConstraints);
};
    
  if('mediaDevices' in navigator && 'getUserMedia' in navigator.mediaDevices){
    const video = document.querySelector('video');
    const stream = await navigator.mediaDevices.getUserMedia({video: true})
    video.srcObject = stream;
  }

  const getCameraSelection = async () => {
    const devices = await navigator.mediaDevices.enumerateDevices();
    const videoDevices = devices.filter(device => device.kind === 'videoinput');
    const options = videoDevices.map(videoDevice => {
      return `<option value="${videoDevice.deviceId}">${videoDevice.label}</option>`;
    });
    cameraOptions.innerHTML = options.join('');
  };
    
  getCameraSelection();
  video.play();
</script>
</body>
</html>
